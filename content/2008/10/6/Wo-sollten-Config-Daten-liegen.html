+++
title = "Wo sollten Config-Daten liegen?"
date = "2008-10-06T01:10:00"
author = "Dr. Azrael Tod"
tags = ["PC", "Qu√§hlkot", "Softwareschrott", "Technik"]
issoid = "blog/891"
aliases = "blog/891"
+++

<p>Viele Systeme haben unterschiedliche Konzepte entwickelt, wo welches Programm seine Konfigurationsdaten ablegen sollte. In diesem Post will ich kurz einige verbreitete M&ouml;glichkeiten vergleichen und Vor- bzw. Nachteile der verschiedenen M&ouml;glichkeiten gegen&uuml;berstellen.<!--more--><!--More--><br/></p><h2>Das DOS-"System"</h2><br/>Das Problem mit MS-DOS und verwandten Systemen ist eigentlich dass sie kein System zur Ablage der Konfiguration hatten.<br/>Die meisten Programme haben ihre Daten einfach in ihr eigenes Verzeichnis geworfen, Datentyp war auch jedem egal also war es teilweise ein recht gro&szlig;es Durcheinander.

<p>Allerdings hatte man damit nicht halb so viele Probleme wie man auf den ersten Blick meinen sollte. Woher auch? Zu DOS-Zeiten hatte man Festplatten von maximal ein paar hundert MB Speichervolumen, viele Programme liefen sogar generell von ihrer eigenen Diskette (hatten also ihr eigenes Dateisystem auf dem so gut wie nichts anderes lag).<br/>Die System-Konfiguration erstreckte sich ebenfalls auf einige wenige Dateien, von denen die meisten im Wurzelverzeichnis der Bootpartition lagen und verschiedene Nutzerprofile gab es schlicht nicht.<br/>Es gab also kaum die M&ouml;glichkeit den &Uuml;berblick zu verlieren.<br/></p><h2>Win1/2/3</h2><br/>Die ersten Versionen von Windows f&uuml;hrten ein neues System ein. Soweit m&ouml;glich sollte jedes Programm seine Config als INI-Datei ablegen.<br/>Leider krankte das Ganze etwas an der n&ouml;tigen R&uuml;ckw&auml;rtskompatibilit&auml;t. Eine Alternative war ja auch nicht gerade einfach m&ouml;glich, Windows war nur ein grafischer Aufsatz auf DOS und DOS-Programme wurden t&auml;glich verwendet.<br/>Weiterhin stellte es sich als problematisch heraus dass viele Programme ihre Daten im Systemverzeichnis ablegten. Ab ein paar hundert Dateien in einem Verzeichnis wird es halt schwer den &Uuml;berblick zu bewahren. Dass dieses Verzeichnis das selbe war, in dem wichtige Systemdateien lagern machte die Situation auch nicht unbedingt besser.<br/><h2>Win95/98/ME</h2><br/>Nach dem ganzen Durcheinander mit vielen elendig langen, flachen INI-Dateien wollte Microsoft ein neues System einf&uuml;hren. Diesmal handelte es sich um eine zentrale Konfigurations-Datenbank in der jedes Programm seine Daten ablegen sollte.<br/>Grunds&auml;tzlich war die Idee nicht ganz schlecht, richtig aufgebaut h&auml;tte es zu einem ziemlich schnellen System werden k&ouml;nnen, in dem alles an einer Stelle in einer gut geordneten Form liegt.<br/>Aber: Microsoft failed again!<br/>Die Struktur war ein reines Fiasko, viele Programme legten ihre Daten an mehreren Stellen ab, kryptische Reg-Keys machten das Ganze grauenvoll lesbar und &uuml;berhaupt bildeten sich Zweige in denen hunderte Einstellungen einfach flach nebeneinander geworfen wurden.<br/>Zus&auml;tzlich musste nat&uuml;rlich die gleiche Datei f&uuml;r alle Nutzer herhalten, zwar gab es eine primitive Rechteverwaltung aber wenn man z.B. die Daten eines Nutzers von einem anderem Rechner importieren wollte, konnte man sich h&ouml;chstens &uuml;ber Im-/Exporte als ein INI-&auml;hnliches Format etwas zurechtbasteln (.reg-Dateien).<br/>Auch Backupm&ouml;glichkeiten waren etwas sehr rar bis praktisch nicht sinnvoll zu realisieren.<br/><h2>WinXP/2000/Vista</h2><br/>Nach bereits 2 Fehlschl&auml;gen bez&uuml;glich Konfigurationssystemen versuchte es Microsoft bei neueren Betriebssystemen nun mit dem eigentlich offensichtlichen: Benutzerspezifische Konfigurationsverzeichnisse in denen jedes Programm seine Daten als Unterverzichnis ablegen sollte<br/>Leider hat auch hier Microsoft wieder eine eigentlich gute Idee durch eine miese Realisierung beeintr&auml;chtigt. So lassen sich die Konfig-Verzeichnisse schlecht bis &uuml;berhaupt nicht von der Systempartition auf ein anderes Laufwerk verschieben und nat&uuml;rlich landen noch viele Daten in diesen Verzeichnissen die dort eigentlich &uuml;berhaupt nichts zu suchen h&auml;tten wenn man das System bis zum Ende gedacht h&auml;tte.<br/>Die Anwendungsunabh&auml;ngigen Daten ("Eigene Dateien") des Benutzers hingegen lassen sich recht einfach verschieben, was sich Microsoft dabei gedacht hat werden wir wohl nie erfahren.<br/>Nat&uuml;rlich hat auch hier Windows wieder mit vielen Altlasten zu k&auml;mpfen. So gibt es jetzt Programme die gerne auf die System.ini/Windows.ini (Windows 3.11) zugreifen wollen, andere schreiben auf die Registry und wieder andere wollen die Daten im daf&uuml;r gedachten Verzeichniss unterbringen. Wirklich &uuml;bersichtlich ist dies nicht. (Auch im Programmverzeichnis landen oft noch Konfigurationsdaten, dies ist zwar inzwischen selbst unter Windows verp&ouml;hnt und wird oft vie Rechteverteilung erschwert, generell verboten ist es dennoch nicht.)<br/><h2>USB-Stick-Software</h2><br/>Software die speziell f&uuml;r USB-Sticks und &auml;hnliche Ger&auml;te zusammengestellt (<a href="http://de.wikipedia.org/wiki/Stickware" target="_blank">"Stickware"</a>) wurde geht bereits heute auch unter Windows alternative Wege. Je nach Distribution reicht dies vom einfachen Ablegen der Konfiguration im Anwendungsverzeichnis bis zu einem ger&auml;tespezifischen Konfigurationsverzeichniss f&uuml;r s&auml;mmtliche Programme.<br/>Urspr&uuml;nglich eigentlich nur daf&uuml;r gedacht einzelne Programme portabel zwischen mehreren PCs bewegen zu k&ouml;nnen, neigen diese Anwendungen in letzter Zeit dazu sich auch f&uuml;r den t&auml;glichen Gebrauch auf einem einzigem PC zu verbreiten.<br/>Vorteile dieser Systeme liegen vor allem in der einfachen Portierbarkeit und den guten Backupfunktionen. Man muss schlicht nicht ewig suchen um ein Programm mit all seinen Einstellungen auf eine neue Windows-Installation zu &uuml;bertragen. Man kopiert ein einziges Verzeichniss f&uuml;r den Nutzer und ist fertig.<br/>Das einzige Problem dieses Systemes liegt wohl darin dass f&uuml;r jeden Nutzer jedes Programm meist als gesonderte Version vorliegt. Zentrale Aktualisierungen bzw. Versionsverwaltung macht dies nahezu unm&ouml;glich, auch wirkt es sich sicherlich nicht sonderlich positiv auf den Speicherverbrauch aus. (Was aber auch heutzutage nichtmehr so wichtig ist wie fr&uuml;her.)<br/><h2>Unix/Linux</h2><br/>Unix verwendet seit vielen Jahren bereits ein relativ ausgereiftes System f&uuml;r die Konfiguration. Grunds&auml;tzlich besteht es aus 2 Teilen, der Systemkonfiguration und den Nutzerspezifischen Daten.<br/>Beides liegt in streng getrennten Verzeichnissen und nur als Administrator darf man etwas an Daten &auml;ndern die andere Nutzer betreffen k&ouml;nnten. Programme D&Uuml;RFEN rein grunds&auml;tzlich nicht ihre Daten ablegen wo sie gerade lustig sind, welche Verzeichnisse sie beschreiben d&uuml;rfen h&auml;ngt immer vom Nutzer ab.<br/>Normalerweise bedeutet dass, dass man als root grunds&auml;tzliche Einstellungen vornehmen darf, als Normaler Nutzer jedoch nur pers&ouml;nliche Einstellungen in seinem privaten Homeverzeichnis ~/ ablegen darf.<br/>Ausf&uuml;hrbare Programme lagern ebenfalls in einem Verzeichniss auf das normale Nutzer keinesfalls Schreibrechte haben sollten.

<p>Leider krankt auch dieses System heutzutage etwas daran dass zu seiner Entwicklung nicht vorhergesehen wurde welche Unmengen an Programmen heute auf normalen Rechnern parallel von einzellnen Nutzern verwendet werden.<br/>So neigt auch die Ablage s&auml;mtlicher Konfigurationsdateien im Homeverzeichniss etwas zur un&uuml;bersichtlichkeit. Dass diese Daten meist durch vorranstellen eines Punktes im Dateinamen versteckt werden lindert das Problem etwas, macht es aber nicht komplett wett.<br/>Besser w&auml;re es, h&auml;tte man eine (meinentwegen distributionsspezifische) KonfigurationsSTRUKTUR in einem speziellen Unterverzeichniss von ~/. Allerdings bewegen sich mehrere gro&szlig;e Ansammlungen von Programmen langsam in diese Richtung (z.B. .gnome), was zumindest f&uuml;r die Zukunft auf Besserung hoffen l&auml;sst.<br/></p><h2>Schlussfolgerungen</h2><br/>Das letzte Wort bez&uuml;glich dieser Problematik ist sicher noch nicht gesprochen. Microsoft wird sicher noch einige Jahre nach einer sinnvollen L&ouml;sung suchen und dabei weiterhin ziemlich offensichtlich die lange bei UNIX bestehende und gut funktionierende Version ignorieren. (Frei nach: "Those who don't understand unix are doomed to reinvent it poorly.")<br/>Durch "Stickware" und die damit zusammenh&auml;ngende Verwendungsart von privaten Daten auf mobilen Datentr&auml;gern ist etwas frischer Wind in die ganze Sachlage gekommen, eventuell f&auml;llt ja auch auf dieser Basis noch irgendwann jemandem eine ultimative L&ouml;sung ein.<br/>Auch unter Unix zeigen sich nach vielen Jahren die ersten Ver&auml;nderungen. Wohin die Reise geht kann man aber auch dort noch sehr schwer absch&auml;tzen.

<p>Wichtig f&uuml;r neue Entw&uuml;rfe sollte meiner Meinung nach die Frage sein inwiefern sich der &Uuml;berblick f&uuml;r den Nutzer erhalten l&auml;sst. Auch die Frage nach dem Format, in dem die Konfiguration schlussendlich abgelegt wird, ist sicherlich von zentraler Bedeutung. Dies werde ich aber in einem seperatem Post behandeln.</p>
<p>Ich bedanke mich also f&uuml;r eure Aufmerksamkeit.</p>
